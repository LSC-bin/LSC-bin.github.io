<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- [ClassBoard Update] 완전 리팩터링 및 통합 리디자인 -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ClassBoard - ClassBoard Design</title>
    <link rel="stylesheet" href="style.css">
    <!-- Boxicons -->
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    <!-- WordCloud2.js -->
    <script src="https://cdn.jsdelivr.net/npm/wordcloud@1.2.2/src/wordcloud2.min.js"></script>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700;900&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>
    <!-- Google Generative AI (Gemini) -->
    <script src="https://unpkg.com/@google/generative-ai"></script>
</head>
<body>
    <!-- Sidebar -->
    <aside id="sidebar">
        <div class="sidebar-top">
            <div class="sidebar-brand" id="sidebar-brand" style="cursor: pointer;">
                <i class="bx bxs-graduation"></i>
                <span class="brand-name">ClassBoard</span>
            </div>
            <button id="navbar-sidebar-toggle" class="navbar-sidebar-toggle-btn" aria-label="사이드바 토글">
                <i class="bx bx-chevron-left"></i>
            </button>
        </div>

        <ul class="sidebar-menu">
            <li class="menu-item active">
                <a href="#dashboard" class="menu-link" data-tooltip="대시보드">
                    <i class="bx bxs-home"></i>
                    <span class="menu-text">대시보드</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#activity" class="menu-link" data-tooltip="활동">
                    <i class="bx bxs-grid-alt"></i>
                    <span class="menu-text">활동</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#ask" class="menu-link" data-tooltip="채팅">
                    <i class="bx bxs-chat"></i>
                    <span class="menu-text">채팅</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#cloud" class="menu-link" data-tooltip="클라우드">
                    <i class="bx bxs-cloud"></i>
                    <span class="menu-text">클라우드</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#quiz" class="menu-link" data-tooltip="퀴즈">
                    <i class="bx bxs-brain"></i>
                    <span class="menu-text">퀴즈</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#materials" class="menu-link" data-tooltip="자료">
                    <i class="bx bxs-folder"></i>
                    <span class="menu-text">자료</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#settings" class="menu-link" data-tooltip="설정">
                    <i class="bx bxs-cog"></i>
                    <span class="menu-text">설정</span>
                </a>
            </li>
        </ul>
    </aside>

    <!-- Navbar -->
    <header id="navbar">
            <button id="menu-btn" class="menu-btn" aria-label="메뉴 열기">
                <i class="bx bx-menu"></i>
            </button>

            <div class="search-box">
                <i class="bx bx-search"></i>
                <input type="text" placeholder="검색..." aria-label="검색">
            </div>

            <div class="navbar-right">
                <div class="categories-wrapper">
                    <button class="categories-btn" aria-label="카테고리 메뉴">
                        <i class="bx bxs-category"></i>
                        <span>카테고리</span>
                        <i class="bx bx-chevron-down"></i>
                    </button>
                    <div class="categories-dropdown">
                        <a href="#dashboard" class="category-item">
                            <i class="bx bxs-home"></i>
                            <span>대시보드</span>
                        </a>
                        <a href="#activity" class="category-item">
                            <i class="bx bxs-grid-alt"></i>
                            <span>활동</span>
                        </a>
                        <a href="#ask" class="category-item">
                            <i class="bx bxs-comment-dots"></i>
                            <span>채팅</span>
                        </a>
                        <a href="#cloud" class="category-item">
                            <i class="bx bxs-cloud"></i>
                            <span>클라우드</span>
                        </a>
                        <a href="#quiz" class="category-item">
                            <i class="bx bxs-brain"></i>
                            <span>퀴즈</span>
                        </a>
                        <a href="#materials" class="category-item">
                            <i class="bx bxs-folder"></i>
                            <span>자료</span>
                        </a>
                        <a href="#settings" class="category-item">
                            <i class="bx bxs-cog"></i>
                            <span>설정</span>
                        </a>
                    </div>
                </div>

                <div class="notifications">
                    <button class="notification-btn" aria-label="알림">
                        <i class="bx bx-bell"></i>
                        <span class="notification-count">3</span>
                    </button>
                    <div class="notification-dropdown">
                        <div class="notification-header">
                            <h3>알림</h3>
                            <span class="mark-all-read">모두 읽음</span>
                        </div>
                        <div class="notification-list">
                            <div class="notification-item unread">
                                <div class="notification-icon">
                                    <i class="bx bxs-bell-ring"></i>
                                </div>
                                <div class="notification-content">
                                    <p>새로운 과제가 등록되었습니다</p>
                                    <span class="notification-time">5분 전</span>
                                </div>
                            </div>
                            <div class="notification-item unread">
                                <div class="notification-icon">
                                    <i class="bx bxs-comment-dots"></i>
                                </div>
                                <div class="notification-content">
                                    <p>질문에 답변이 달렸습니다</p>
                                    <span class="notification-time">30분 전</span>
                                </div>
                            </div>
                            <div class="notification-item">
                                <div class="notification-icon">
                                    <i class="bx bxs-check-circle"></i>
                                </div>
                                <div class="notification-content">
                                    <p>Activity 피드백이 완료되었습니다</p>
                                    <span class="notification-time">2시간 전</span>
                                </div>
                            </div>
                        </div>
                        <div class="notification-footer">
                            <a href="#notifications" class="view-all">전체 보기</a>
                        </div>
                    </div>
                </div>

                <label class="dark-mode-toggle">
                    <input type="checkbox" id="switch-mode" aria-label="다크 모드 전환">
                    <span class="switch-lm"></span>
                </label>

                <div class="profile">
                    <button class="profile-btn" aria-label="프로필">
                        <i class="bx bxs-user-circle"></i>
                    </button>
                    <div class="profile-dropdown">
                        <div class="profile-info">
                            <div class="profile-info-header">
                                <i class="bx bxs-user-circle"></i>
                                <div>
                                    <p class="profile-name" id="profile-name">관리자</p>
                                    <p class="profile-role" id="profile-role">교사</p>
                                </div>
                            </div>
                            <div class="profile-class">
                                <i class="bx bxs-school"></i>
                                <span id="profile-class-name">클래스를 선택하세요</span>
                            </div>
                        </div>
                        <div class="profile-divider"></div>
                        <a href="#profile" class="profile-menu-item" onclick="event.preventDefault(); switchPage('#profile'); return false;">
                            <i class="bx bxs-user"></i>
                            <span>프로필</span>
                        </a>
                        <a href="#logout" class="profile-menu-item logout-item">
                            <i class="bx bx-log-out"></i>
                            <span>로그아웃</span>
                        </a>
                    </div>
                </div>
            </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Dashboard Content -->
        <section id="dashboard-content" class="content">
            <div class="content-header">
                <div>
                    <h1>Dashboard</h1>
                    <p>오늘의 수업과 활동을 확인하세요</p>
                </div>
                <div style="display: flex; gap: 1rem; align-items: center;">
                    <button class="btn-create-session" id="create-session-btn" style="padding: 0.75rem 1.5rem; background: var(--blue); color: white; border: none; border-radius: var(--radius-md); font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 0.5rem; transition: all 0.3s ease;">
                        <i class="bx bx-plus"></i>
                        오늘의 수업 만들기
                    </button>
                    <div class="class-info-display">
                        <i class="bx bxs-school"></i>
                        <span class="current-class-name" id="current-class-name">클래스를 선택하세요</span>
                    </div>
                </div>
            </div>

            <!-- Dashboard Grid (2×2) -->
            <div class="dashboard-grid">
                <!-- 공지사항 카드 -->
                <div class="dashboard-card announcement-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: var(--blue);">
                            <i class="bx bxs-bullhorn"></i>
                        </div>
                        <h3>공지사항</h3>
                        <span class="card-badge" id="announcement-count">0</span>
                        <button class="card-action ghost" id="announcement-create-btn" type="button" aria-label="공지 작성">
                            <i class="bx bx-edit"></i>
                            공지 작성
                        </button>
                    </div>
                    <div class="announcement-list" id="announcement-list"></div>
                    <div class="announcement-empty" id="announcement-empty" hidden>
                        <i class="bx bx-message-square-add"></i>
                        <p>등록된 공지가 없습니다. 첫 공지를 작성해보세요!</p>
                    </div>
                    <div class="card-footer actions">
                        <button class="link-button" id="announcement-clear-btn" type="button">
                            <i class="bx bx-trash"></i>
                            전체 삭제
                        </button>
                        <button class="card-link link-button" id="announcement-view-all-btn" type="button">
                            전체보기 <i class="bx bx-right-arrow-alt"></i>
                        </button>
                    </div>
                </div>

                <!-- 빠른 링크 카드 -->
                <div class="dashboard-card quicklink-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: var(--orange);">
                            <i class="bx bxs-zap"></i>
                        </div>
                        <h3>빠른 링크</h3>
                    </div>
                    <div class="quicklink-grid">
                        <a href="#activity" class="quicklink-item">
                            <i class="bx bxs-lightbulb" style="background: var(--orange);"></i>
                            <span>Activity</span>
                        </a>
                        <a href="#ask" class="quicklink-item">
                            <i class="bx bxs-comment-dots" style="background: var(--blue);"></i>
                            <span>채팅</span>
                        </a>
                        <a href="#materials" class="quicklink-item">
                            <i class="bx bxs-folder" style="background: var(--yellow);"></i>
                            <span>Materials</span>
                        </a>
                        <a href="#quiz" class="quicklink-item">
                            <i class="bx bxs-brain" style="background: var(--red);"></i>
                            <span>Quiz</span>
                        </a>
                    </div>
                </div>

                <!-- 과제 현황 카드 -->
                <div class="dashboard-card assignment-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: var(--red);">
                            <i class="bx bxs-clipboard"></i>
                        </div>
                        <h3>과제 현황</h3>
                    </div>
                    <div class="assignment-stats">
                        <div class="assignment-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 80%;"></div>
                            </div>
                            <div class="progress-info">
                                <span class="progress-text">제출 완료</span>
                                <span class="progress-value">28/35</span>
                            </div>
                        </div>
                        <div class="assignment-list">
                            <div class="assignment-item">
                                <div class="assignment-info">
                                    <i class="bx bxs-circle" style="color: var(--red); font-size: 0.5rem;"></i>
                                    <p>디지털 윤리 과제</p>
                                </div>
                                <span class="assignment-due">D-2</span>
                            </div>
                            <div class="assignment-item">
                                <div class="assignment-info">
                                    <i class="bx bxs-circle" style="color: var(--orange); font-size: 0.5rem;"></i>
                                    <p>AI 프로젝트 제안서</p>
                                </div>
                                <span class="assignment-due">D-7</span>
                            </div>
                        </div>
                    </div>
                    <a href="#assignments" class="card-link">
                        전체보기 <i class="bx bx-right-arrow-alt"></i>
                    </a>
                </div>

                <!-- 오늘의 수업 카드 -->
                <div class="dashboard-card today-class-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: var(--blue);">
                            <i class="bx bxs-calendar"></i>
                        </div>
                        <h3>오늘의 수업</h3>
                        <span class="card-date">2025년 1월 15일</span>
                    </div>
                    <div class="today-classes">
                        <div class="today-class-item">
                            <div class="class-time-badge" style="background: var(--blue);">
                                <span>09:00</span>
                            </div>
                            <div class="class-details">
                                <h4>디지털 윤리와 리더십</h4>
                                <p class="class-location"><i class="bx bxs-map"></i> 온라인 (Zoom)</p>
                                <span class="class-status-badge active">진행 중</span>
                            </div>
                        </div>
                        <div class="today-class-item">
                            <div class="class-time-badge" style="background: var(--orange);">
                                <span>11:00</span>
                            </div>
                            <div class="class-details">
                                <h4>인공지능과 미래</h4>
                                <p class="class-location"><i class="bx bxs-map"></i> 온라인 (Zoom)</p>
                                <span class="class-status-badge upcoming">예정</span>
                            </div>
                        </div>
                    </div>
                    <a href="#today-classes" class="card-link">
                        전체보기 <i class="bx bx-right-arrow-alt"></i>
                    </a>
                </div>
            </div>

        </section>

        <!-- Activity Content (Padlet형) -->
        <section id="activity-content" class="content" style="display: none;">
            <div class="content-header">
                <div>
                    <h1>Activity</h1>
                    <p>자유롭게 아이디어를 나누고 함께 성장해요</p>
                </div>
                <div style="display: flex; gap: 1rem; align-items: center; justify-content: flex-end;">
                    <input 
                        type="text" 
                        id="activity-board-search" 
                        class="board-search-input" 
                        placeholder="검색어를 입력하세요..."
                        style="width: 300px;"
                    >
                    <button class="btn-write" id="activity-create-session-btn">
                        <i class="bx bx-edit"></i> 글쓰기
                    </button>
                </div>
            </div>

            <!-- 게시판 리스트 -->
            <div class="board-container" style="margin-top: 2rem;">
                <div class="board-list">
                    <div class="board-header">
                        <div class="board-header-cell">No</div>
                        <div class="board-header-cell">제목</div>
                        <div class="board-header-cell">작성자</div>
                        <div class="board-header-cell">작성일</div>
                        <div class="board-header-cell">삭제</div>
                    </div>
                    <div class="board-body" id="activity-sessions-table-body">
                        <!-- 세션 목록이 여기에 동적으로 생성됩니다 -->
                    </div>
                </div>
            </div>

            <!-- 게시글 작성 모달 -->
            <div class="modal" id="post-modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>새 게시글 작성</h3>
                        <button class="modal-close" id="close-modal">
                            <i class="bx bx-x"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <input 
                                type="text" 
                                id="post-title" 
                                class="post-title-input"
                                placeholder="게시물 제목을 입력하세요"
                                maxlength="50"
                            />
                        </div>
                        <textarea id="post-text" placeholder="내용을 입력하세요..." rows="5"></textarea>
                        <div class="image-upload">
                            <input type="file" id="image-upload" accept="image/*" multiple style="display: none;">
                            <label for="image-upload" class="upload-label">
                                <i class="bx bx-image"></i> 이미지 추가
                            </label>
                            <div class="image-preview" id="image-preview"></div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn-cancel" id="cancel-post">취소</button>
                            <button class="btn-submit" id="submit-post">게시하기</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Ask Content (카카오톡 단체 채팅방) -->
        <section id="ask-content" class="content" style="display: none;">
            <div class="content-header">
                <div>
                    <h1>Chat</h1>
                    <p>수업 관련 질문과 답변을 나누세요</p>
                </div>
                <div style="display: flex; gap: 1rem; align-items: center; justify-content: flex-end;">
                    <input 
                        type="text" 
                        id="ask-board-search" 
                        class="board-search-input" 
                        placeholder="검색어를 입력하세요..."
                        style="width: 300px;"
                    >
                    <button class="btn-write" id="ask-create-session-btn">
                        <i class="bx bx-edit"></i> 글쓰기
                    </button>
                </div>
            </div>

            <!-- 게시판 리스트 -->
            <div class="board-container" style="margin-top: 2rem;">
                <div class="board-list">
                    <div class="board-header">
                        <div class="board-header-cell">No</div>
                        <div class="board-header-cell">제목</div>
                        <div class="board-header-cell">작성자</div>
                        <div class="board-header-cell">작성일</div>
                        <div class="board-header-cell">삭제</div>
                    </div>
                    <div class="board-body" id="ask-sessions-table-body">
                        <!-- 세션 목록이 여기에 동적으로 생성됩니다 -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Cloud Content (WordCloud) -->
        <section id="cloud-content" class="content" style="display: none;">
            <div class="content-header">
                <h1>Cloud</h1>
                <p>수업 참여 데이터를 바탕으로 자주 언급된 단어를 확인하세요</p>
            </div>

            <!-- 통계 정보 -->
            <div class="cloud-stats">
                <div class="stat-card">
                    <div class="stat-icon" style="background: var(--blue);">
                        <i class="bx bxs-comment-dots"></i>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value" id="total-comments">0</span>
                        <span class="stat-label">총 댓글 수</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background: var(--orange);">
                        <i class="bx bxs-pencil"></i>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value" id="total-posts">0</span>
                        <span class="stat-label">총 게시글 수</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background: var(--yellow);">
                        <i class="bx bxs-message"></i>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value" id="unique-words">0</span>
                        <span class="stat-label">고유 단어 수</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background: var(--red);">
                        <i class="bx bxs-time"></i>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value" id="update-time">-</span>
                        <span class="stat-label">최종 업데이트</span>
                    </div>
                </div>
            </div>

            <!-- 필터 영역 -->
            <div class="cloud-filters">
                <div class="filter-group">
                    <label>데이터 소스:</label>
                    <button class="filter-btn-cloud active" data-source="all">
                        <i class="bx bx-grid"></i> 전체
                    </button>
                    <button class="filter-btn-cloud" data-source="activity">
                        <i class="bx bxs-lightbulb"></i> Activity
                    </button>
                    <button class="filter-btn-cloud" data-source="ask">
                        <i class="bx bxs-comment-dots"></i> 채팅
                    </button>
                </div>
                <button class="btn-refresh" id="refresh-cloud">
                    <i class="bx bx-refresh"></i> 새로고침
                </button>
            </div>

            <!-- WordCloud 영역 -->
            <div class="cloud-container">
                <div class="cloud-canvas-wrapper">
                    <canvas id="wordcloud-canvas"></canvas>
                </div>
                <div class="cloud-legend">
                    <h3>상위 키워드</h3>
                    <div id="keyword-list"></div>
                </div>
            </div>

            <!-- 로딩 상태 -->
            <div class="cloud-loading" id="cloud-loading" style="display: none;">
                <div class="loading-spinner">
                    <i class="bx bx-loader-alt bx-spin"></i>
                </div>
                <p>데이터를 분석하고 있습니다...</p>
            </div>
        </section>

        <!-- Quiz Content (AI 자동 채점) -->
        <section id="quiz-content" class="content" style="display: none;">
            <div class="content-header">
                <h1>Quiz</h1>
                <p>AI 기반 자동 채점 시스템으로 학습을 확인하세요</p>
            </div>

            <!-- 진행 중인 퀴즈 -->
            <div class="quiz-list" id="quiz-list">
                <!-- 퀴즈 목록은 JavaScript로 동적 생성 -->
            </div>

            <!-- 퀴즈 풀이 영역 -->
            <div class="quiz-container" id="quiz-container" style="display: none;">
                <div class="quiz-header">
                    <h2 id="quiz-title">퀴즈 제목</h2>
                    <div class="quiz-progress">
                        <span id="current-question">0</span> / <span id="total-questions">0</span>
                    </div>
                </div>

                <div class="quiz-questions" id="quiz-questions">
                    <!-- 문제는 JavaScript로 동적 생성 -->
                </div>

                <div class="quiz-footer">
                    <button class="btn-prev" id="prev-btn" disabled>이전</button>
                    <button class="btn-submit-quiz" id="submit-quiz-btn">제출하기</button>
                </div>
            </div>

            <!-- 결과 페이지 -->
            <div class="quiz-result" id="quiz-result" style="display: none;">
                <div class="result-header">
                    <h2>퀴즈 결과</h2>
                    <div class="score-display">
                        <span class="score-value" id="final-score">0</span>
                        <span class="score-total">/ 100</span>
                    </div>
                </div>

                <div class="result-summary">
                    <div class="summary-card correct">
                        <i class="bx bx-check-circle"></i>
                        <div>
                            <span class="summary-value" id="correct-count">0</span>
                            <span class="summary-label">정답</span>
                        </div>
                    </div>
                    <div class="summary-card incorrect">
                        <i class="bx bx-x-circle"></i>
                        <div>
                            <span class="summary-value" id="incorrect-count">0</span>
                            <span class="summary-label">오답</span>
                        </div>
                    </div>
                    <div class="summary-card total">
                        <i class="bx bx-list-ol"></i>
                        <div>
                            <span class="summary-value" id="total-count">0</span>
                            <span class="summary-label">총 문제</span>
                        </div>
                    </div>
                </div>

                <div class="ai-feedback" id="ai-feedback">
                    <h3><i class="bx bx-brain"></i> AI 피드백</h3>
                    <div class="feedback-content" id="feedback-content">
                        <div class="loading-spinner">
                            <i class="bx bx-loader-alt bx-spin"></i>
                        </div>
                        <p>AI 피드백을 생성하고 있습니다...</p>
                    </div>
                </div>

                <div class="result-questions" id="result-questions">
                    <!-- 결과 상세는 JavaScript로 동적 생성 -->
                </div>

                <div class="result-actions">
                    <button class="btn-retry" onclick="location.reload()">
                        <i class="bx bx-refresh"></i> 다시 풀기
                    </button>
                    <button class="btn-home" onclick="goToQuizList()">
                        <i class="bx bx-home"></i> 퀴즈 목록
                    </button>
                </div>
            </div>
        </section>

        <!-- Profile Content -->
        <section id="profile-content" class="content" style="display: none;">
            <div class="content-header">
                <h1>프로필</h1>
                <p>내 정보를 확인하고 수정하세요</p>
            </div>

            <!-- 프로필 카드 -->
            <div class="profile-card">
                <div class="profile-card-header">
                    <div class="profile-avatar-large">
                        <i class="bx bxs-user-circle"></i>
                    </div>
                    <div class="profile-avatar-actions">
                        <button class="btn-change-avatar" id="change-avatar-btn">
                            <i class="bx bx-camera"></i>
                            <span>사진 변경</span>
                        </button>
                        <input type="file" id="avatar-input" accept="image/*" hidden>
                    </div>
                </div>

                <div class="profile-form">
                    <div class="form-group">
                        <label for="profile-name-input">
                            <i class="bx bxs-user"></i>
                            이름
                        </label>
                        <input type="text" id="profile-name-input" class="form-input" placeholder="이름을 입력하세요">
                    </div>

                    <div class="form-group">
                        <label for="profile-email-input">
                            <i class="bx bx-envelope"></i>
                            이메일
                        </label>
                        <input type="email" id="profile-email-input" class="form-input" placeholder="이메일을 입력하세요">
                    </div>

                    <div class="form-group">
                        <label for="profile-phone-input">
                            <i class="bx bx-phone"></i>
                            전화번호
                        </label>
                        <input type="tel" id="profile-phone-input" class="form-input" placeholder="전화번호를 입력하세요">
                    </div>

                    <div class="form-group">
                        <label for="profile-bio-input">
                            <i class="bx bxs-info-circle"></i>
                            자기소개
                        </label>
                        <textarea id="profile-bio-input" class="form-textarea" rows="4" placeholder="자기소개를 입력하세요"></textarea>
                    </div>

                    <div class="form-actions">
                        <button class="btn-cancel-profile" id="cancel-profile-btn">
                            <i class="bx bx-x"></i>
                            취소
                        </button>
                        <button class="btn-save-profile" id="save-profile-btn">
                            <i class="bx bx-check"></i>
                            저장하기
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- 공지 작성 모달 -->
    <div class="modal" id="announcement-modal" hidden>
        <div class="modal-content announcement">
            <div class="modal-header">
                <h3><i class="bx bxs-bullhorn"></i> 새 공지 작성</h3>
                <button class="modal-close" id="announcement-modal-close" type="button" aria-label="모달 닫기">
                    <i class="bx bx-x"></i>
                </button>
            </div>
            <form id="announcement-form" class="modal-body">
                <div class="form-group">
                    <label for="announcement-title">제목</label>
                    <input type="text" id="announcement-title" name="title" maxlength="60" required>
                </div>
                <div class="form-group">
                    <label for="announcement-date">공지일</label>
                    <input type="date" id="announcement-date" name="date" required>
                </div>
                <div class="form-group">
                    <label for="announcement-body">내용</label>
                    <textarea id="announcement-body" name="body" rows="4" maxlength="300" required></textarea>
                </div>
                <div class="modal-footer">
                    <button class="btn-cancel" type="button" id="announcement-modal-cancel">취소</button>
                    <button class="btn-submit" type="submit">
                        <i class="bx bx-paper-plane"></i>
                        등록
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- 공지 상세 모달 -->
    <div class="modal" id="announcement-detail-modal" hidden>
        <div class="modal-content announcement detail">
            <div class="modal-header">
                <h3><i class="bx bxs-detail"></i> 공지 상세</h3>
                <button class="modal-close" id="announcement-detail-close" type="button" aria-label="상세 닫기">
                    <i class="bx bx-x"></i>
                </button>
            </div>
            <div class="modal-body announcement-detail-body">
                <h4 id="announcement-detail-title" class="announcement-detail-title"></h4>
                <div class="announcement-detail-meta">
                    <i class="bx bx-calendar"></i>
                    <span id="announcement-detail-date"></span>
                </div>
                <div id="announcement-detail-content" class="announcement-detail-content"></div>
            </div>
        </div>
    </div>

    <!-- 공지 전체 모달 -->
    <div class="modal" id="announcement-all-modal" hidden>
        <div class="modal-content announcement all">
            <div class="modal-header">
                <h3><i class="bx bxs-notepad"></i> 전체 공지 목록</h3>
                <button class="modal-close" id="announcement-all-close" type="button" aria-label="전체 공지 닫기">
                    <i class="bx bx-x"></i>
                </button>
            </div>
            <div class="modal-body announcement-all-body">
                <div id="announcement-all-list" class="announcement-all-list"></div>
                <div id="announcement-all-empty" class="announcement-all-empty">
                    <i class="bx bx-inbox"></i>
                    <p>등록된 공지가 없습니다. 새 공지를 작성해보세요.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase 설정 -->
    <script>
        // Firebase 설정 (실제 프로젝트로 교체 필요)
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_AUTH_DOMAIN",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_STORAGE_BUCKET",
            messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
            appId: "YOUR_APP_ID"
        };
        
        // Firebase 초기화
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        const storage = firebase.storage();
    </script>

    <script src="utils/common.js"></script>
    <script src="utils/auth.js"></script>
    <script src="dialog.js"></script>
    <script src="modules/sidebar.js"></script>
    <script src="core.js"></script>
    <script src="main-session.js"></script>
    <script src="activity.js"></script>
    <script src="ask-session.js"></script>
    <script src="cloud.js"></script>
    <script src="quiz.js"></script>
    <script src="profile.js"></script>
    <script src="ai.js"></script>

    <!-- Footer -->
    <footer id="footer">
        <div class="footer-content">
            <div class="footer-brand">
                <i class="bx bxs-graduation"></i>
                <span class="footer-brand-name">ClassBoard</span>
            </div>
            <div class="footer-info">
                <p>&copy; <span id="current-year">2025</span> AI ClassBoard. All rights reserved.</p>
            </div>
            <div class="footer-links">
                <a href="#about">About</a>
                <a href="#contact">Contact</a>
                <a href="#privacy">Privacy</a>
                <a href="#terms">Terms</a>
            </div>
        </div>
    </footer>

    <script>
        // 현재 연도 자동 업데이트
        document.getElementById('current-year').textContent = new Date().getFullYear();
    </script>
</body>
</html>

